{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/86152/Desktop/project/health-clock-uniapp/App.vue?2670","webpack:///C:/Users/86152/Desktop/project/health-clock-uniapp/App.vue?7588","uni-app:///App.vue","webpack:///C:/Users/86152/Desktop/project/health-clock-uniapp/App.vue?101a","webpack:///C:/Users/86152/Desktop/project/health-clock-uniapp/App.vue?bf83"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","prototype","requests","uni","getNetworkType","success","res","store","dispatch","networkType","onNetworkStatusChange","$mStore","$http","http","$mConfig","$mAssetsPath","$mFormRule","$mRoutesConfig","$mConstDataConfig","$mSettingConfig","$mGraceChecker","$mHelper","$mRouter","component","rfImage","rfEmpty","rfLoading","rfLoadProgress","rfParser","rfBackTop","rfTag","rfNavDetail","cuCustom","process","App","mpType","mixin","computed","themeColor","get","getters","set","val","state","moneySymbol","singleSkuText","filter","value","Math","floor","toFixed","app","$mount","baseUrl","url","login","logout","getEmailCode","getNoticeList","editUserInfo","getUserByUserName","resetPwdMini","ajax","method","data","fun","request","getStorageSync","resp","statusCode","code","showModal","title","content","cancelText","confirmText","confirm","removeStorageSync","e","console","log","reLaunch","hasOwnProperty","token","setStorageSync","status","showToast","icon","msg","onLaunch","onHide","methods","initData","_this","initSystemInfo","handleBindingEquipment","oauth_client","oauth_client_user_id","handleVerifyAccessToken","navTo","id","type","route"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';\r\n// @ts-ignore\r\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue';\r\nimport App from './App';\r\n// 引入全局存储\r\nimport store from '@/store';\r\n// 引入全局配置\r\nimport $mAssetsPath from '@/config/assets.config.js';\r\nimport $mConfig from '@/config/index.config.js';\r\nimport $mRoutesConfig from '@/config/routes.config.js';\r\nimport $mFormRule from '@/config/formRule.config.js';\r\nimport $mConstDataConfig from '@/config/constData.config.js';\r\n// import $mWebsocketConfig from '@/config/websocket.config.js';\r\nimport $mSettingConfig from '@/config/setting.config.js';\r\n// 引入全局方法\r\nimport { http } from '@/utils/request';\r\nimport $mGraceChecker from '@/utils/graceChecker';\r\nimport $mHelper from '@/utils/helper';\r\nimport $mRouter from '@/utils/router';\r\n// import $mWebsocket from '@/utils/websocket';\r\n// 全局组件\r\nimport rfImage from '@/components/oa-image/oa-image';\r\nimport rfEmpty from '@/components/oa-empty';\r\nimport rfLoading from '@/components/oa-loading';\r\nimport rfLoadProgress from '@/components/oa-load-progress/oa-load-progress';\r\nimport rfParser from '@/components/oa-parser';\r\nimport rfBackTop from '@/components/oa-back-top';\r\nimport rfTag from '@/components/oa-tag';\r\nimport rfNavDetail from '@/components/oa-nav-detail';\r\nimport cuCustom from '@/components/cu-custom';\r\n\r\nimport requests from './utils/requests.js'  //引入异步请求函数\r\nVue.prototype.requests = requests.requests //挂载到全局\r\n// 网络状态监听\r\nuni.getNetworkType({\r\n\tsuccess: res => {\r\n\t\tstore.dispatch('networkStateChange', res.networkType);\r\n\t}\r\n});\r\nuni.onNetworkStatusChange(function (res) {\r\n\tstore.dispatch('networkStateChange', res.networkType);\r\n});\r\n// 挂载全局自定义方法\r\nVue.prototype.$mStore = store;\r\n\r\nVue.prototype.$http = http;\r\nVue.prototype.$mConfig = $mConfig;\r\nVue.prototype.$mAssetsPath = $mAssetsPath;\r\nVue.prototype.$mFormRule = $mFormRule;\r\nVue.prototype.$mRoutesConfig = $mRoutesConfig;\r\nVue.prototype.$mConstDataConfig = $mConstDataConfig;\r\nVue.prototype.$mSettingConfig = $mSettingConfig;\r\n\r\nVue.prototype.$mGraceChecker = $mGraceChecker;\r\nVue.prototype.$mHelper = $mHelper;\r\nVue.prototype.$mRouter = $mRouter;\r\n\r\nVue.component('rfImage', rfImage);\r\nVue.component('rfEmpty', rfEmpty);\r\nVue.component('rfLoading', rfLoading);\r\nVue.component('rfLoadProgress', rfLoadProgress);\r\nVue.component('rfParser', rfParser);\r\nVue.component('rfBackTop', rfBackTop);\r\nVue.component('rfTag', rfTag);\r\nVue.component('rfNavDetail', rfNavDetail);\r\nVue.component('cuCustom', cuCustom);\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n\tVue.config.productionTip = false;\r\n}\r\n\r\nApp.mpType = 'app';\r\n\r\nVue.mixin({\r\n\tcomputed: {\r\n\t\tthemeColor: {\r\n\t\t\tget () {\r\n\t\t\t\treturn store.getters.themeColor;\r\n\t\t\t},\r\n\t\t\tset (val) {\r\n\t\t\t\tstore.state.themeColor = val;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nVue.prototype.moneySymbol = $mConstDataConfig.moneySymbol;\r\nVue.prototype.singleSkuText = $mConstDataConfig.singleSkuText;\r\n\r\n// 保留小数点后两位\r\nVue.filter('keepTwoDecimal', value => {\r\n  return (Math.floor((value || 0) * 100) / 100).toFixed(2);\r\n});\r\n\r\nconst app = new Vue({\r\n\t...App,\r\n\tstore: store\r\n});\r\napp.$mount();\r\n\r\n\r\nlet baseUrl = \"http://localhost:9314\"\r\nVue.prototype.url = {\r\n\tlogin: baseUrl + \"/login\", // 登录\r\n\tlogout: baseUrl + \"/logout\", // 退出登录\r\n\tgetEmailCode: baseUrl + \"/getEmailCode\", // 登录\r\n\tgetNoticeList : baseUrl + '/system/notice/list', // 查询公告列表\r\n\teditUserInfo: baseUrl + '/system/user/editUserInfo', // 修改用户\r\n\tgetUserByUserName: baseUrl + \"/system/user/getUserByUserName\", // 通过用户名查询用户\r\n\tresetPwdMini: baseUrl + \"/system/user/resetPwdMini\", // 修改密码\r\n\t\r\n}\r\n\r\nVue.prototype.ajax = function(url, method, data, fun) {\r\n\tuni.request({\r\n\t\t\"url\": url,\r\n\t\t\"method\": method,\r\n\t\t\"header\": {\r\n\t\t\t'Authorization': 'Bearer ' + uni.getStorageSync('token')\r\n\t\t},\r\n\t\t\"data\": data,\r\n\t\tsuccess: function(resp) {\r\n\t\t\tif (resp.statusCode === 200 && resp.data.code === 401) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '登录状态已过期，请您重新登录!',\r\n\t\t\t\t\tcancelText: '取消',\r\n\t\t\t\t\tconfirmText: '重新登录',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync('token')\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync('userInfo')\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t// error\r\n\t\t\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '/pages/public/login'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '/pages/index/index.vue'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else if (resp.statusCode === 200 && resp.data.code === 200) {\r\n\t\t\t\tlet data = resp.data\r\n\t\t\t\tif (data.hasOwnProperty(\"token\")) {\r\n\t\t\t\t\tlet token = data.token\r\n\t\t\t\t\tuni.setStorageSync(\"token\", token)\r\n\t\t\t\t}\r\n\t\t\t\tfun(resp)\r\n\t\t\t}else if(resp.data.status === 403){\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '服务器繁忙，请稍后再试^_^'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: resp.data.msg\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n/* eslint-disable */\r\nimport Vue from 'vue';\r\nimport { configList, bindingEquipment } from '@/api/basic';\r\nimport { verifyAccessToken } from '@/api/login'\r\nimport { mapMutations } from 'vuex';\r\nimport requests from \"./utils/requests.js\";\r\nuni.$ajax = requests.requests; //挂载全局请求方法\r\nexport default {\r\n\tasync onLaunch() {\r\n\t\tawait this.initData();\r\n\t},\r\n\tonHide() {},\r\n\tmethods: {\r\n\t\t...mapMutations(['setNotifyNum']),\r\n\t\t// 数据初始化\r\n\t\tasync initData() {\r\n\t\t\t// 获取页面设置配置\r\n\r\n\t\t\tconst _this = this;\r\n\t\t\tconst token = uni.getStorageSync('accessToken');\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\t// 5+ push 消息推送 ps:使用:H5+的方式监听，实现推送\r\n\t\t\tplus.push.addEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tfunction(msg) {\r\n\t\t\t\t\t_this.navTo(JSON.parse(msg.content));\r\n\t\t\t\t},\r\n\t\t\t\tfalse\r\n\t\t\t);\r\n\t\t\t// 监听在线消息事件\r\n\t\t\tplus.push.addEventListener(\r\n\t\t\t\t'receive',\r\n\t\t\t\tfunction(msg) {\r\n\t\t\t\t\t_this.navTo(JSON.parse(msg.content));\r\n\t\t\t\t},\r\n\t\t\t\tfalse\r\n\t\t\t);\r\n\t\t\t// #endif\r\n\t\t\t// 获取系统title高度\r\n\t\t\tawait this.initSystemInfo();\r\n\t\t\tif (token) {\r\n\t\t\t\tawait this.handleVerifyAccessToken(token);\r\n\t\t\t}\r\n\t\t\tif (this.$mStore.getters.hasLogin) {\r\n\t\t\t\t// 初始化Websocket\r\n\t\t\t\t// await this.$mWebsocket.initWebsocket();\r\n\t\t\t\t// 初始化数量\r\n\t\t\t\tthis.setNotifyNum(uni.getStorageSync('notifyNum') || 0);\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tconst info = plus.push.getClientInfo();\r\n\t\t\t\tawait this.handleBindingEquipment(info.clientid, token);\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t// 初始化系统信息\r\n\t\tinitSystemInfo() {\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t// #ifndef MP\r\n\t\t\t\t\tVue.prototype.StatusBar = e.statusBarHeight;\r\n\t\t\t\t\tif (e.platform === 'android') {\r\n\t\t\t\t\t\tVue.prototype.CustomBar = e.statusBarHeight + 50;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tVue.prototype.CustomBar = e.statusBarHeight + 43;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tVue.prototype.StatusBar = e.statusBarHeight;\r\n\t\t\t\t\tconst custom = wx.getMenuButtonBoundingClientRect();\r\n\t\t\t\t\tVue.prototype.Custom = custom;\r\n\t\t\t\t\tVue.prototype.CustomBar = custom.top - e.statusBarHeight;\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\t\tVue.prototype.StatusBar = e.statusBarHeight;\r\n\t\t\t\t\tVue.prototype.CustomBar = e.statusBarHeight + e.titleBarHeight;\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\r\n\t\t// 设备绑定(app推送)\r\n\t\tasync handleBindingEquipment(id, token) {\r\n\t\t\tconst oauth_client = uni.getSystemInfoSync().platform;\r\n\t\t\tawait this.$http.post(bindingEquipment, {\r\n\t\t\t\ttoken,\r\n\t\t\t\toauth_client,\r\n\t\t\t\toauth_client_user_id: id\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync handleVerifyAccessToken (token) {\r\n\t\t\t await this.$http.post(verifyAccessToken, { token }).then(r => {\r\n\t\t\t\t if (!r.data.token) {\r\n\t\t\t\t\t\t\t\tthis.$mStore.commit('logout');\r\n\t\t\t\t }\r\n\t\t\t });\r\n    },\r\n\t\t// 推送消息跳转\r\n\t\tasync navTo(item) {\r\n\t\t\tlet route;\r\n\t\t\tconst id = item.target_id;\r\n\t\t\tconst type = item.target_type;\r\n\t\t\tswitch (type) {\r\n\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\troute = '/pages/index/index';\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (route) this.$mRouter.push({ route });\r\n\t\t},\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n// 导入colorUI\r\n@import '/static/css/colorui/main.css';\r\n@import '/static/css/colorui/icon.css';\r\n@import '/static/css/colorui/animation.css';\r\n// 导入阿里巴巴矢量图标库\r\n/*#ifdef MP*/\r\n@import './static/css/iconfont/iconfont.css';\r\n/*#endif*/\r\n/*#ifndef MP*/\r\n@import url('https://at.alicdn.com/t/font_1823374_98c45zxwb3c.css');\r\n/*#endif*/\r\n@import './static/css/reset.scss';\r\n@import './static/css/uni.scss';\r\n</style>\r\n","import mod from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683953179847\n      var cssReload = require(\"C:/Users/86152/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}